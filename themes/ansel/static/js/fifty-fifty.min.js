function set_fifty_fifty_sizes(width,height,parent){var slider=parent.getElementsByClassName("img-comp-container")[0],over=parent.getElementsByClassName("img-comp-over")[0],over_image=over.getElementsByTagName("img")[0],under=parent.getElementsByClassName("img-comp-under")[0],under_image=under.getElementsByTagName("img")[0];slider.style.height=height+"px",over_image.style.height=height+"px",under_image.style.height=height+"px",over.style.height=height+"px",under.style.height=height+"px",slider.style.width=width+"px",over_image.style.width=width+"px",under_image.style.width=width+"px",over.style.width=width/2+"px",under.style.width=width+"px"}function compute_bounding_box(slider,image_ratio,full_width=!0){var cs=getComputedStyle(slider.parentNode),paddingX=parseFloat(cs.paddingLeft)+parseFloat(cs.paddingRight),paddingY=parseFloat(cs.paddingTop)+parseFloat(cs.paddingBottom),borderX=parseFloat(cs.borderLeftWidth)+parseFloat(cs.borderRightWidth),borderY=parseFloat(cs.borderTopWidth)+parseFloat(cs.borderBottomWidth);return max_width=slider.parentNode.offsetWidth-paddingX-borderX,max_height=slider.parentNode.offsetHeight-paddingY-borderY,full_width?(width=max_width,height=max_width/image_ratio):(width=Math.min(max_width,max_height*image_ratio),height=Math.min(max_height,max_width/image_ratio)),[width,height]}function set_heights(slider,full_width){var over,over_image=slider.getElementsByClassName("img-comp-over")[0].getElementsByTagName("img")[0],under,under_image=slider.getElementsByClassName("img-comp-under")[0].getElementsByTagName("img")[0];return height=Math.min(under_image.offsetHeight,over_image.offsetHeight),width=Math.min(under_image.offsetWidth,over_image.offsetWidth),sizes=compute_bounding_box(slider.parentNode,width/height,full_width),set_fifty_fifty_sizes(sizes[0],sizes[1],slider.parentNode),sizes}function reset_cursor(slider,sizes){cursor=slider.getElementsByClassName("comp-cursor")[0],cursor.style.top=sizes[1]/2-cursor.offsetHeight/2+"px",cursor.style.left=sizes[0]/2-cursor.offsetWidth/2+"px"}function initComparisons(id=!1){var x,i;if(id)container=document.getElementById(id),set_heights(x=container.getElementsByClassName("img-comp-container")[0],!1),compareImages(x);else for(x=document.getElementsByClassName("img-comp-container"),i=0;i<x.length;i++)set_heights(x[i],!0),compareImages(x[i]);function compareImages(slider){var cursor,clicked=0,over=slider.getElementsByClassName("img-comp-over")[0],under=slider.getElementsByClassName("img-comp-under")[0];function slideReady(e){e.preventDefault(),clicked=1,window.addEventListener("mousemove",slideMove),window.addEventListener("touchmove",slideMove)}function slideFinish(){clicked=0}function slideMove(e){var pos;if(0==clicked)return!1;(pos=getCursorPos(e))<0&&(pos=0),pos>width&&(pos=width),slide(pos)}function getCursorPos(e){var a,x=0;return e=e.changedTouches?e.changedTouches[0]:e,a=slider.getBoundingClientRect(),x=e.pageX-a.left,x-=window.pageXOffset}function slide(x){over.style.width=x+"px",cursor.style.left=over.offsetWidth-cursor.offsetWidth/2+"px"}(cursor=document.createElement("DIV")).setAttribute("class","comp-cursor"),cursor.innerHTML="<div class='comp-cursor-line'></div><div class='comp-cursor-button'><i class='fas fa-chevron-left'></i><i class='fas fa-chevron-right'></i></div><div class='comp-cursor-line'></div>",over.parentElement.insertBefore(cursor,over),cursor.style.top=height/2-cursor.offsetHeight/2+"px",cursor.style.left=over.offsetWidth-cursor.offsetWidth/2+"px",cursor.addEventListener("mousedown",slideReady),window.addEventListener("mouseup",slideFinish),cursor.addEventListener("touchstart",slideReady),window.addEventListener("touchend",slideFinish)}}function lightbox(id){if(box=document.getElementById("lightbox"),box)return box.parentNode.removeChild(box),void(document.body.style.overflow="scroll");const template=document.getElementById(id),clone=template.cloneNode(!0);if(clone.id="lightbox-slider",template.classList.contains("img-comp-wrapper")){const elements=clone.getElementsByClassName("comp-cursor");for(;elements.length>0;)elements[0].parentNode.removeChild(elements[0])}const button=clone.getElementsByClassName("open-lightbox-icon")[0];button.classList.remove("fa-expand-alt"),button.classList.add("fa-times");const lightbox=document.createElement("div");if(lightbox.id="lightbox",lightbox.appendChild(clone),document.body.appendChild(lightbox),template.classList.contains("img-comp-wrapper"))initComparisons("lightbox");else if(template.classList.contains("img-wrapper")){var images=template.getElementsByTagName("img"),height=0,width=0;for(i=0;i<images.length;i++)height=Math.max(height,images[i].naturalHeight),width=Math.max(width,images[i].naturalWidth);for(sizes=compute_bounding_box(clone,width/height,!1),images=clone.getElementsByTagName("img"),i=0;i<images.length;i++)images[i].style.height=sizes[1]+"px",images[i].style.width=sizes[0]+"px"}document.body.style.overflow="hidden"}window.addEventListener("resize",(function(){for(x=document.getElementsByClassName("img-comp-container"),i=0;i<x.length;i++)full_width="lightbox-slider"!=x[i].parentNode.id,sizes=set_heights(x[i],full_width),reset_cursor(x[i],sizes);if(box=document.getElementById("lightbox"),box&&(wrapper=box.getElementsByClassName("img-wrapper")[0],wrapper)){var images=box.getElementsByTagName("img"),height=0,width=0;for(i=0;i<images.length;i++)height=Math.max(height,images[i].naturalHeight),width=Math.max(width,images[i].naturalWidth);for(sizes=compute_bounding_box(wrapper,width/height,!1),i=0;i<images.length;i++)images[i].style.height=sizes[1]+"px",images[i].style.width=sizes[0]+"px"}}));