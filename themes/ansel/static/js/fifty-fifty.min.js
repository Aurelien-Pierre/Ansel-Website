function initComparisons(id=!1){var x,i;if(id)container=document.getElementById(id),set_heights(x=container.getElementsByClassName("img-comp-container")[0]),compareImages(x);else for(x=document.getElementsByClassName("img-comp-container"),i=0;i<x.length;i++)set_heights(x[i]),compareImages(x[i]);function set_heights(slider){var over=slider.getElementsByClassName("img-comp-over")[0],over_image=over.getElementsByTagName("img")[0],under=slider.getElementsByClassName("img-comp-under")[0],under_image=under.getElementsByTagName("img")[0];height=Math.min(under_image.offsetHeight,over_image.offsetHeight),width=Math.min(under_image.offsetWidth,over_image.offsetWidth),slider.style.height=height+"px",over_image.style.height=height+"px",under_image.style.height=height+"px",over.style.height=height+"px",under.style.height=height+"px",over.style.width=width/2+"px",over_image.style.width=width+"px",under_image.style.width=width+"px",slider.style.width=width+"px"}function compareImages(slider){var cursor,clicked=0,over=slider.getElementsByClassName("img-comp-over")[0],under=slider.getElementsByClassName("img-comp-under")[0];function slideReady(e){e.preventDefault(),clicked=1,window.addEventListener("mousemove",slideMove),window.addEventListener("touchmove",slideMove)}function slideFinish(){clicked=0}function slideMove(e){var pos;if(0==clicked)return!1;(pos=getCursorPos(e))<0&&(pos=0),pos>width&&(pos=width),slide(pos)}function getCursorPos(e){var a,x=0;return e=e.changedTouches?e.changedTouches[0]:e,a=slider.getBoundingClientRect(),x=e.pageX-a.left,x-=window.pageXOffset}function slide(x){over.style.width=x+"px",cursor.style.left=over.offsetWidth-cursor.offsetWidth/2+"px"}(cursor=document.createElement("DIV")).setAttribute("class","comp-cursor"),cursor.innerHTML="<div class='comp-cursor-line'></div><div class='comp-cursor-button'><i class='fas fa-chevron-left'></i><i class='fas fa-chevron-right'></i></div><div class='comp-cursor-line'></div>",over.parentElement.insertBefore(cursor,over),cursor.style.top=height/2-cursor.offsetHeight/2+"px",cursor.style.left=over.offsetWidth-cursor.offsetWidth/2+"px",cursor.addEventListener("mousedown",slideReady),window.addEventListener("mouseup",slideFinish),cursor.addEventListener("touchstart",slideReady),window.addEventListener("touchend",slideFinish)}}function lightbox(id){if(box=document.getElementById("lightbox"),box)return void box.parentNode.removeChild(box);const template=document.getElementById(id),clone=template.cloneNode(!0);var under=template.getElementsByClassName("img-comp-under")[0];height=under.offsetHeight,width=under.offsetWidth,image_ratio=width/height;const elements=clone.getElementsByClassName("comp-cursor");for(;elements.length>0;)elements[0].parentNode.removeChild(elements[0]);const button=clone.getElementsByClassName("open-lightbox-icon")[0];button.classList.remove("fa-expand-alt"),button.classList.add("fa-times");const lightbox=document.createElement("div");lightbox.id="lightbox",lightbox.appendChild(clone),document.body.appendChild(lightbox);var cs=getComputedStyle(lightbox),paddingX=parseFloat(cs.paddingLeft)+parseFloat(cs.paddingRight),paddingY=parseFloat(cs.paddingTop)+parseFloat(cs.paddingBottom),borderX=parseFloat(cs.borderLeftWidth)+parseFloat(cs.borderRightWidth),borderY=parseFloat(cs.borderTopWidth)+parseFloat(cs.borderBottomWidth);max_width=lightbox.offsetWidth-paddingX-borderX,max_height=lightbox.offsetHeight-paddingY-borderY,height=Math.min(max_height,max_width/image_ratio),width=Math.min(max_width,max_height*image_ratio);var slider=clone.getElementsByClassName("img-comp-container")[0],over=clone.getElementsByClassName("img-comp-over")[0],over_image=over.getElementsByTagName("img")[0],under,under_image=(under=clone.getElementsByClassName("img-comp-under")[0]).getElementsByTagName("img")[0];slider.style.height=height+"px",over_image.style.height=height+"px",under_image.style.height=height+"px",over.style.height=height+"px",under.style.height=height+"px",slider.style.width=width+"px",over_image.style.width=width+"px",under_image.style.width=width+"px",over.style.width=width+"px",under.style.width=width+"px",initComparisons("lightbox")}